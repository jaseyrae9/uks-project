{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'uks_app/style.css' %}">

{% block content %}
<div class="row">
  <div class="col-md-4">
    <div class="media mb-4">
      <img class="img-thumbnail account-img" src="{{ selected_user.profile.image.url }}">
    </div>
    <div class=" mb-4 media-body">
      <h2 class="account-heading">{{ selected_user.username }}</h2>
      <p class="text-secondary">{{ selected_user.email }}</p>
      {% if update_possible %}
        <a class="btn btn-md btn-dark" href="{% url 'profile_update' selected_user.username %}">Update Profile</a>
      {% endif %}
    </div>
  </div>
  <div class="col-md-8">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
          <a class="nav-link active" id="code-tab" data-toggle="tab" href="#projects" role="tab" aria-controls="projects" aria-selected="true"><i style="margin-right:6px" class="fas fa-project-diagram"></i></i>Projects</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" id="issue-tab" data-toggle="tab" href="#followers" role="tab" aria-controls="followers" aria-selected="false"><i style="margin-right:6px" class="fas fa-users"></i>Followers</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" id="issue-tab" data-toggle="tab" href="#following" role="tab" aria-controls="following" aria-selected="false"><i style="margin-right:6px" class="fas fa-users"></i>Following</a>
      </li>
  </ul>
  
  <div class="tab-content" id="myTabContent">
    <!-- code changes tab -->
      <div class="tab-pane fade show active" id="projects" role="tabpanel" aria-labelledby="code-tab">
          <div>
              <div style="margin-top: 20px">
                {% if projects %}
                <div class="row backg" style="margin-top: 50px;">
                    <!-- list of all projects -->
                    {% for project in projects %}
                        <div class="col-lg-6" style="margin-bottom: 10px;">
                            <div class="card text-center">
                                <div class="card-header">
                                    <h5><a href="{% url 'one_project' project.id %}">{{project.name}}</a></h5>
                                    <h6>{{project.git_repo}}</h6>
                                </div>
                                <div class="card-body">
                                    <p class="card-text">{{project.description}}</p>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p>There are no projects available.</p>
            {% endif %}
              </div>
          </div>
      </div>
    <!-- issues tab -->
      <div class="tab-pane fade" id="followers" role="tabpanel" aria-labelledby="issue-tab">
          <div style="margin-top: 20px">
              
          </div>
      </div>
      <div class="tab-pane fade" id="following" role="tabpanel" aria-labelledby="milestone-tab">
          <div style="margin-top: 20px">
              <div style="margin-top: 20px">
                  
              </div>
          </div>
      </div>
      <!-- add new tabs ? -->
  </div>
  </ul>
  </div>
</div>
{% endblock content %}